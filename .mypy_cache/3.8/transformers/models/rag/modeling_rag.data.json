{".class": "MypyFile", "_fullname": "transformers.models.rag.modeling_rag", "is_partial_stub_package": false, "is_stub": false, "names": {".class": "SymbolTable", "BeamSearchScorer": {".class": "SymbolTableNode", "cross_ref": "transformers.generation_beam_search.BeamSearchScorer", "kind": "Gdef"}, "Callable": {".class": "SymbolTableNode", "cross_ref": "typing.Callable", "kind": "Gdef"}, "List": {".class": "SymbolTableNode", "cross_ref": "typing.List", "kind": "Gdef"}, "LogitsProcessorList": {".class": "SymbolTableNode", "cross_ref": "transformers.generation_logits_process.LogitsProcessorList", "kind": "Gdef"}, "ModelOutput": {".class": "SymbolTableNode", "cross_ref": "transformers.file_utils.ModelOutput", "kind": "Gdef"}, "Optional": {".class": "SymbolTableNode", "cross_ref": "typing.Optional", "kind": "Gdef"}, "PreTrainedModel": {".class": "SymbolTableNode", "cross_ref": "transformers.modeling_utils.PreTrainedModel", "kind": "Gdef"}, "PretrainedConfig": {".class": "SymbolTableNode", "cross_ref": "transformers.configuration_utils.PretrainedConfig", "kind": "Gdef"}, "RAG_FORWARD_INPUTS_DOCSTRING": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "transformers.models.rag.modeling_rag.RAG_FORWARD_INPUTS_DOCSTRING", "name": "RAG_FORWARD_INPUTS_DOCSTRING", "type": "builtins.str"}}, "RAG_START_DOCSTRING": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "transformers.models.rag.modeling_rag.RAG_START_DOCSTRING", "name": "RAG_START_DOCSTRING", "type": "builtins.str"}}, "RagConfig": {".class": "SymbolTableNode", "cross_ref": "transformers.models.rag.configuration_rag.RagConfig", "kind": "Gdef"}, "RagModel": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["transformers.models.rag.modeling_rag.RagPreTrainedModel"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "transformers.models.rag.modeling_rag.RagModel", "name": "RagModel", "type_vars": []}, "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagModel", "metaclass_type": null, "metadata": {}, "module_name": "transformers.models.rag.modeling_rag", "mro": ["transformers.models.rag.modeling_rag.RagModel", "transformers.models.rag.modeling_rag.RagPreTrainedModel", "transformers.modeling_utils.PreTrainedModel", "torch.nn.modules.module.Module", "transformers.modeling_utils.ModuleUtilsMixin", "transformers.generation_utils.GenerationMixin", "transformers.file_utils.PushToHubMixin", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 4], "arg_names": ["self", "config", "question_encoder", "generator", "retriever", "kwargs"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagModel.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 4], "arg_names": ["self", "config", "question_encoder", "generator", "retriever", "kwargs"], "arg_types": ["transformers.models.rag.modeling_rag.RagModel", {".class": "UnionType", "items": ["transformers.configuration_utils.PretrainedConfig", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 5}, {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "__init__ of RagModel", "ret_type": {".class": "NoneType"}, "type_guard": null, "variables": []}}}, "context_encoder_training": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagModel.context_encoder_training", "name": "context_encoder_training", "type": "builtins.bool"}}, "ctx_encoder": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagModel.ctx_encoder", "name": "ctx_encoder", "type": {".class": "NoneType"}}}, "forward": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], "arg_names": ["self", "input_ids", "attention_mask", "encoder_outputs", "decoder_input_ids", "decoder_attention_mask", "past_key_values", "doc_scores", "context_input_ids", "context_attention_mask", "use_cache", "output_attentions", "output_hidden_states", "output_retrieved", "n_docs"], "flags": ["is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagModel.forward", "name": "forward", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": null, "name": "forward", "type": {".class": "AnyType", "missing_import_name": null, "source_any": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_of_any": 7}}}}, "generator": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagModel.generator", "name": "generator", "type": {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}]}}}, "question_encoder": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagModel.question_encoder", "name": "question_encoder", "type": {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}]}}}, "retriever": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagModel.retriever", "name": "retriever", "type": {".class": "UnionType", "items": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 5}, {".class": "NoneType"}]}}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "RagPreTrainedModel": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["transformers.modeling_utils.PreTrainedModel"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "transformers.models.rag.modeling_rag.RagPreTrainedModel", "name": "RagPreTrainedModel", "type_vars": []}, "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagPreTrainedModel", "metaclass_type": null, "metadata": {}, "module_name": "transformers.models.rag.modeling_rag", "mro": ["transformers.models.rag.modeling_rag.RagPreTrainedModel", "transformers.modeling_utils.PreTrainedModel", "torch.nn.modules.module.Module", "transformers.modeling_utils.ModuleUtilsMixin", "transformers.generation_utils.GenerationMixin", "transformers.file_utils.PushToHubMixin", "builtins.object"], "names": {".class": "SymbolTable", "_keys_to_ignore_on_load_missing": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class"], "fullname": "transformers.models.rag.modeling_rag.RagPreTrainedModel._keys_to_ignore_on_load_missing", "name": "_keys_to_ignore_on_load_missing", "type": null}}, "base_model_prefix": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RagPreTrainedModel.base_model_prefix", "name": "base_model_prefix", "type": "builtins.str"}}, "config_class": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class"], "fullname": "transformers.models.rag.modeling_rag.RagPreTrainedModel.config_class", "name": "config_class", "type": null}}, "from_pretrained": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 2, 4], "arg_names": ["cls", "args", "kwargs"], "flags": ["is_class", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagPreTrainedModel.from_pretrained", "name": "from_pretrained", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_classmethod", "is_ready"], "fullname": null, "name": "from_pretrained", "type": {".class": "CallableType", "arg_kinds": [0, 2, 4], "arg_names": ["cls", "args", "kwargs"], "arg_types": [{".class": "TypeType", "item": "transformers.models.rag.modeling_rag.RagPreTrainedModel"}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "from_pretrained of RagPreTrainedModel", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "from_pretrained_question_encoder_generator": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 4], "arg_names": ["cls", "question_encoder_pretrained_model_name_or_path", "generator_pretrained_model_name_or_path", "retriever", "kwargs"], "flags": ["is_class", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagPreTrainedModel.from_pretrained_question_encoder_generator", "name": "from_pretrained_question_encoder_generator", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 4], "arg_names": ["cls", "question_encoder_pretrained_model_name_or_path", "generator_pretrained_model_name_or_path", "retriever", "kwargs"], "arg_types": [{".class": "TypeType", "item": "transformers.models.rag.modeling_rag.RagPreTrainedModel"}, {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.models.rag.retrieval_rag.RagRetriever", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "cls"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "from_pretrained_question_encoder_generator of RagPreTrainedModel", "ret_type": "transformers.modeling_utils.PreTrainedModel", "type_guard": null, "variables": []}}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_classmethod", "is_ready"], "fullname": null, "name": "from_pretrained_question_encoder_generator", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 4], "arg_names": ["cls", "question_encoder_pretrained_model_name_or_path", "generator_pretrained_model_name_or_path", "retriever", "kwargs"], "arg_types": [{".class": "TypeType", "item": "transformers.models.rag.modeling_rag.RagPreTrainedModel"}, {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.str", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.models.rag.retrieval_rag.RagRetriever", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "cls"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "from_pretrained_question_encoder_generator of RagPreTrainedModel", "ret_type": "transformers.modeling_utils.PreTrainedModel", "type_guard": null, "variables": []}}}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "RagRetriever": {".class": "SymbolTableNode", "cross_ref": "transformers.models.rag.retrieval_rag.RagRetriever", "kind": "Gdef"}, "RagSequenceForGeneration": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["transformers.models.rag.modeling_rag.RagPreTrainedModel"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration", "name": "RagSequenceForGeneration", "type_vars": []}, "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration", "metaclass_type": null, "metadata": {}, "module_name": "transformers.models.rag.modeling_rag", "mro": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration", "transformers.models.rag.modeling_rag.RagPreTrainedModel", "transformers.modeling_utils.PreTrainedModel", "torch.nn.modules.module.Module", "transformers.modeling_utils.ModuleUtilsMixin", "transformers.generation_utils.GenerationMixin", "transformers.file_utils.PushToHubMixin", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 4], "arg_names": ["self", "config", "question_encoder", "generator", "retriever", "kwargs"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 4], "arg_names": ["self", "config", "question_encoder", "generator", "retriever", "kwargs"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration", {".class": "UnionType", "items": ["transformers.configuration_utils.PretrainedConfig", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 5}, {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "__init__ of RagSequenceForGeneration", "ret_type": {".class": "NoneType"}, "type_guard": null, "variables": []}}}, "_cat_and_pad": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["tensors", "pad_token_id"], "flags": ["is_static", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration._cat_and_pad", "name": "_cat_and_pad", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_staticmethod", "is_ready"], "fullname": null, "name": "_cat_and_pad", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["tensors", "pad_token_id"], "arg_types": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "_cat_and_pad of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "forward": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "encoder_outputs", "decoder_input_ids", "decoder_attention_mask", "past_key_values", "context_input_ids", "context_attention_mask", "doc_scores", "use_cache", "output_attentions", "output_hidden_states", "output_retrieved", "exclude_bos_score", "reduce_loss", "labels", "n_docs", "kwargs"], "flags": ["is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.forward", "name": "forward", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": null, "name": "forward", "type": {".class": "AnyType", "missing_import_name": null, "source_any": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_of_any": 7}}}}, "generate": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "context_input_ids", "context_attention_mask", "doc_scores", "do_deduplication", "num_return_sequences", "num_beams", "n_docs", "model_kwargs"], "flags": ["is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.generate", "name": "generate", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "context_input_ids", "context_attention_mask", "doc_scores", "do_deduplication", "num_return_sequences", "num_beams", "n_docs", "model_kwargs"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration", {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "generate of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": null, "name": "generate", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "context_input_ids", "context_attention_mask", "doc_scores", "do_deduplication", "num_return_sequences", "num_beams", "n_docs", "model_kwargs"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration", {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "generate of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "generator": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": ["is_property", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.generator", "name": "generator", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_property", "is_ready"], "fullname": null, "name": "generator", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["self"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "generator of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "get_nll": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0, 1, 1, 1, 1], "arg_names": ["self", "seq_logits", "doc_scores", "target", "reduce_loss", "epsilon", "exclude_bos_score", "n_docs"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.get_nll", "name": "get_nll", "type": null}}, "question_encoder": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": ["is_property", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.question_encoder", "name": "question_encoder", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_property", "is_ready"], "fullname": null, "name": "question_encoder", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["self"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "question_encoder of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "rag": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.rag", "name": "rag", "type": "transformers.models.rag.modeling_rag.RagModel"}}, "retriever": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": ["is_property", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.retriever", "name": "retriever", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_property", "is_ready"], "fullname": null, "name": "retriever", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["self"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "retriever of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "set_context_encoder_for_training": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "ctx_encoder"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.set_context_encoder_for_training", "name": "set_context_encoder_for_training", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["self", "ctx_encoder"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration", "transformers.modeling_utils.PreTrainedModel"], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "set_context_encoder_for_training of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}, "set_retriever": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "retriever"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagSequenceForGeneration.set_retriever", "name": "set_retriever", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["self", "retriever"], "arg_types": ["transformers.models.rag.modeling_rag.RagSequenceForGeneration", "transformers.models.rag.retrieval_rag.RagRetriever"], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "set_retriever of RagSequenceForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "RagTokenForGeneration": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["transformers.models.rag.modeling_rag.RagPreTrainedModel"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration", "name": "RagTokenForGeneration", "type_vars": []}, "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration", "metaclass_type": null, "metadata": {}, "module_name": "transformers.models.rag.modeling_rag", "mro": ["transformers.models.rag.modeling_rag.RagTokenForGeneration", "transformers.models.rag.modeling_rag.RagPreTrainedModel", "transformers.modeling_utils.PreTrainedModel", "torch.nn.modules.module.Module", "transformers.modeling_utils.ModuleUtilsMixin", "transformers.generation_utils.GenerationMixin", "transformers.file_utils.PushToHubMixin", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 4], "arg_names": ["self", "config", "question_encoder", "generator", "retriever", "kwargs"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 4], "arg_names": ["self", "config", "question_encoder", "generator", "retriever", "kwargs"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration", {".class": "UnionType", "items": ["transformers.configuration_utils.PretrainedConfig", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.modeling_utils.PreTrainedModel", {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 5}, {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "__init__ of RagTokenForGeneration", "ret_type": {".class": "NoneType"}, "type_guard": null, "variables": []}}}, "_reorder_cache": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["past", "beam_idx"], "flags": ["is_static", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration._reorder_cache", "name": "_reorder_cache", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_staticmethod", "is_ready"], "fullname": null, "name": "_reorder_cache", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["past", "beam_idx"], "arg_types": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "_reorder_cache of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "forward": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "encoder_outputs", "decoder_input_ids", "decoder_attention_mask", "past_key_values", "context_input_ids", "context_attention_mask", "doc_scores", "use_cache", "output_attentions", "output_hidden_states", "output_retrieved", "do_marginalize", "reduce_loss", "labels", "n_docs", "kwargs"], "flags": ["is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.forward", "name": "forward", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": null, "name": "forward", "type": {".class": "AnyType", "missing_import_name": null, "source_any": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_of_any": 7}}}}, "generate": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "context_input_ids", "context_attention_mask", "doc_scores", "max_length", "min_length", "early_stopping", "use_cache", "num_beams", "num_beam_groups", "diversity_penalty", "bos_token_id", "pad_token_id", "eos_token_id", "length_penalty", "no_repeat_ngram_size", "encoder_no_repeat_ngram_size", "repetition_penalty", "bad_words_ids", "num_return_sequences", "decoder_start_token_id", "n_docs", "prefix_allowed_tokens_fn", "logits_processor", "stopping_criteria", "forced_bos_token_id", "forced_eos_token_id", "remove_invalid_values", "model_kwargs"], "flags": ["is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.generate", "name": "generate", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "context_input_ids", "context_attention_mask", "doc_scores", "max_length", "min_length", "early_stopping", "use_cache", "num_beams", "num_beam_groups", "diversity_penalty", "bos_token_id", "pad_token_id", "eos_token_id", "length_penalty", "no_repeat_ngram_size", "encoder_no_repeat_ngram_size", "repetition_penalty", "bad_words_ids", "num_return_sequences", "decoder_start_token_id", "n_docs", "prefix_allowed_tokens_fn", "logits_processor", "stopping_criteria", "forced_bos_token_id", "forced_eos_token_id", "remove_invalid_values", "model_kwargs"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration", {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "UnionType", "items": [{".class": "CallableType", "arg_kinds": [0, 0], "arg_names": [null, null], "arg_types": ["builtins.int", "torch.tensor.Tensor"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": null, "ret_type": {".class": "Instance", "args": ["builtins.int"], "type_ref": "builtins.list"}, "type_guard": null, "variables": []}, {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.generation_logits_process.LogitsProcessorList", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.generation_stopping_criteria.StoppingCriteriaList", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.int", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.int", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.bool", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "generate of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": null, "name": "generate", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "input_ids", "attention_mask", "context_input_ids", "context_attention_mask", "doc_scores", "max_length", "min_length", "early_stopping", "use_cache", "num_beams", "num_beam_groups", "diversity_penalty", "bos_token_id", "pad_token_id", "eos_token_id", "length_penalty", "no_repeat_ngram_size", "encoder_no_repeat_ngram_size", "repetition_penalty", "bad_words_ids", "num_return_sequences", "decoder_start_token_id", "n_docs", "prefix_allowed_tokens_fn", "logits_processor", "stopping_criteria", "forced_bos_token_id", "forced_eos_token_id", "remove_invalid_values", "model_kwargs"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration", {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, {".class": "UnionType", "items": [{".class": "CallableType", "arg_kinds": [0, 0], "arg_names": [null, null], "arg_types": ["builtins.int", "torch.tensor.Tensor"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": null, "ret_type": {".class": "Instance", "args": ["builtins.int"], "type_ref": "builtins.list"}, "type_guard": null, "variables": []}, {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.generation_logits_process.LogitsProcessorList", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["transformers.generation_stopping_criteria.StoppingCriteriaList", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.int", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.int", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["builtins.bool", {".class": "NoneType"}]}, {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "generate of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "generator": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": ["is_property", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.generator", "name": "generator", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_property", "is_ready"], "fullname": null, "name": "generator", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["self"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "generator of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "get_input_embeddings": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.get_input_embeddings", "name": "get_input_embeddings", "type": null}}, "get_nll": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0, 1, 1, 1], "arg_names": ["self", "seq_logits", "doc_scores", "target", "reduce_loss", "epsilon", "n_docs"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.get_nll", "name": "get_nll", "type": null}}, "get_output_embeddings": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.get_output_embeddings", "name": "get_output_embeddings", "type": null}}, "marginalize": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 1], "arg_names": ["self", "seq_logits", "doc_scores", "n_docs"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.marginalize", "name": "marginalize", "type": null}}, "prepare_inputs_for_generation": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1, 1, 1, 1, 1, 1, 4], "arg_names": ["self", "decoder_input_ids", "past", "attention_mask", "use_cache", "encoder_outputs", "doc_scores", "n_docs", "kwargs"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.prepare_inputs_for_generation", "name": "prepare_inputs_for_generation", "type": null}}, "question_encoder": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": ["is_property", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.question_encoder", "name": "question_encoder", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_property", "is_ready"], "fullname": null, "name": "question_encoder", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["self"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "question_encoder of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "rag": {".class": "SymbolTableNode", "implicit": true, "kind": "Mdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.rag", "name": "rag", "type": "transformers.models.rag.modeling_rag.RagModel"}}, "retriever": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Decorator", "func": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["self"], "flags": ["is_property", "is_decorated"], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.retriever", "name": "retriever", "type": null}, "is_overload": false, "var": {".class": "Var", "flags": ["is_initialized_in_class", "is_property", "is_ready"], "fullname": null, "name": "retriever", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["self"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration"], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": true, "is_ellipsis_args": false, "name": "retriever of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}}, "set_context_encoder_for_training": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "ctx_encoder"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.set_context_encoder_for_training", "name": "set_context_encoder_for_training", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["self", "ctx_encoder"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration", "transformers.modeling_utils.PreTrainedModel"], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "set_context_encoder_for_training of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}, "set_output_embeddings": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "new_embeddings"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.set_output_embeddings", "name": "set_output_embeddings", "type": null}}, "set_retriever": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["self", "retriever"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.set_retriever", "name": "set_retriever", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["self", "retriever"], "arg_types": ["transformers.models.rag.modeling_rag.RagTokenForGeneration", "transformers.models.rag.retrieval_rag.RagRetriever"], "bound_args": [], "def_extras": {"first_arg": "self"}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "set_retriever of RagTokenForGeneration", "ret_type": {".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 1}, "type_guard": null, "variables": []}}}, "shift_tokens_right": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["self", "input_ids", "start_token_id"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RagTokenForGeneration.shift_tokens_right", "name": "shift_tokens_right", "type": null}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "RetrievAugLMMarginOutput": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["transformers.file_utils.ModelOutput"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput", "name": "RetrievAugLMMarginOutput", "type_vars": []}, "flags": [], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput", "metaclass_type": "abc.ABCMeta", "metadata": {"dataclass": {"attributes": [{"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 116, "name": "loss", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 117, "name": "logits", "type": "torch._C.FloatTensor"}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 118, "name": "doc_scores", "type": "torch._C.FloatTensor"}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 119, "name": "past_key_values", "type": {".class": "UnionType", "items": [{".class": "Instance", "args": ["torch._C.FloatTensor"], "type_ref": "builtins.list"}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 120, "name": "retrieved_doc_embeds", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 121, "name": "retrieved_doc_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 122, "name": "context_input_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 123, "name": "context_attention_mask", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 124, "name": "question_encoder_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 125, "name": "question_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 126, "name": "question_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 127, "name": "generator_enc_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 128, "name": "generator_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 129, "name": "generator_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 130, "name": "generator_dec_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 131, "name": "generator_dec_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 132, "name": "generator_cross_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}], "frozen": false}}, "module_name": "transformers.models.rag.modeling_rag", "mro": ["transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput", "transformers.file_utils.ModelOutput", "collections.OrderedDict", "builtins.dict", "typing.MutableMapping", "typing.Mapping", "typing.Collection", "typing.Reversible", "typing.Iterable", "typing.Container", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], "arg_names": ["self", "loss", "logits", "doc_scores", "past_key_values", "retrieved_doc_embeds", "retrieved_doc_ids", "context_input_ids", "context_attention_mask", "question_encoder_last_hidden_state", "question_enc_hidden_states", "question_enc_attentions", "generator_enc_last_hidden_state", "generator_enc_hidden_states", "generator_enc_attentions", "generator_dec_hidden_states", "generator_dec_attentions", "generator_cross_attentions"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], "arg_names": ["self", "loss", "logits", "doc_scores", "past_key_values", "retrieved_doc_embeds", "retrieved_doc_ids", "context_input_ids", "context_attention_mask", "question_encoder_last_hidden_state", "question_enc_hidden_states", "question_enc_attentions", "generator_enc_last_hidden_state", "generator_enc_hidden_states", "generator_enc_attentions", "generator_dec_hidden_states", "generator_dec_attentions", "generator_cross_attentions"], "arg_types": ["transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput", {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}, "torch._C.FloatTensor", "torch._C.FloatTensor", {".class": "UnionType", "items": [{".class": "Instance", "args": ["torch._C.FloatTensor"], "type_ref": "builtins.list"}, {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "__init__ of RetrievAugLMMarginOutput", "ret_type": {".class": "NoneType"}, "type_guard": null, "variables": []}}, "plugin_generated": true}, "context_attention_mask": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.context_attention_mask", "name": "context_attention_mask", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}}, "context_input_ids": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.context_input_ids", "name": "context_input_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}}, "doc_scores": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.doc_scores", "name": "doc_scores", "type": "torch._C.FloatTensor"}}, "generator_cross_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.generator_cross_attentions", "name": "generator_cross_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_dec_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.generator_dec_attentions", "name": "generator_dec_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_dec_hidden_states": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.generator_dec_hidden_states", "name": "generator_dec_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_enc_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.generator_enc_attentions", "name": "generator_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_enc_hidden_states": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.generator_enc_hidden_states", "name": "generator_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_enc_last_hidden_state": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.generator_enc_last_hidden_state", "name": "generator_enc_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}}, "logits": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.logits", "name": "logits", "type": "torch._C.FloatTensor"}}, "loss": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.loss", "name": "loss", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}}, "past_key_values": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.past_key_values", "name": "past_key_values", "type": {".class": "UnionType", "items": [{".class": "Instance", "args": ["torch._C.FloatTensor"], "type_ref": "builtins.list"}, {".class": "NoneType"}]}}}, "question_enc_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.question_enc_attentions", "name": "question_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "question_enc_hidden_states": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.question_enc_hidden_states", "name": "question_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "question_encoder_last_hidden_state": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.question_encoder_last_hidden_state", "name": "question_encoder_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}}, "retrieved_doc_embeds": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.retrieved_doc_embeds", "name": "retrieved_doc_embeds", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}}, "retrieved_doc_ids": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMMarginOutput.retrieved_doc_ids", "name": "retrieved_doc_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "RetrievAugLMOutput": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "TypeInfo", "_promote": null, "abstract_attributes": [], "bases": ["transformers.file_utils.ModelOutput"], "declared_metaclass": null, "defn": {".class": "ClassDef", "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput", "name": "RetrievAugLMOutput", "type_vars": []}, "flags": [], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput", "metaclass_type": "abc.ABCMeta", "metadata": {"dataclass": {"attributes": [{"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 207, "name": "logits", "type": "torch._C.FloatTensor"}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 208, "name": "doc_scores", "type": "torch._C.FloatTensor"}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 209, "name": "past_key_values", "type": {".class": "UnionType", "items": [{".class": "Instance", "args": ["torch._C.FloatTensor"], "type_ref": "builtins.list"}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 210, "name": "retrieved_doc_embeds", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 211, "name": "retrieved_doc_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 212, "name": "context_input_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 213, "name": "context_attention_mask", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 214, "name": "question_encoder_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 215, "name": "question_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 216, "name": "question_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 217, "name": "generator_enc_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 218, "name": "generator_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 219, "name": "generator_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 220, "name": "generator_dec_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 221, "name": "generator_dec_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}, {"column": 4, "has_default": true, "is_in_init": true, "is_init_var": false, "line": 222, "name": "generator_cross_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}], "frozen": false}}, "module_name": "transformers.models.rag.modeling_rag", "mro": ["transformers.models.rag.modeling_rag.RetrievAugLMOutput", "transformers.file_utils.ModelOutput", "collections.OrderedDict", "builtins.dict", "typing.MutableMapping", "typing.Mapping", "typing.Collection", "typing.Reversible", "typing.Iterable", "typing.Container", "builtins.object"], "names": {".class": "SymbolTable", "__init__": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], "arg_names": ["self", "logits", "doc_scores", "past_key_values", "retrieved_doc_embeds", "retrieved_doc_ids", "context_input_ids", "context_attention_mask", "question_encoder_last_hidden_state", "question_enc_hidden_states", "question_enc_attentions", "generator_enc_last_hidden_state", "generator_enc_hidden_states", "generator_enc_attentions", "generator_dec_hidden_states", "generator_dec_attentions", "generator_cross_attentions"], "flags": [], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.__init__", "name": "__init__", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], "arg_names": ["self", "logits", "doc_scores", "past_key_values", "retrieved_doc_embeds", "retrieved_doc_ids", "context_input_ids", "context_attention_mask", "question_encoder_last_hidden_state", "question_enc_hidden_states", "question_enc_attentions", "generator_enc_last_hidden_state", "generator_enc_hidden_states", "generator_enc_attentions", "generator_dec_hidden_states", "generator_dec_attentions", "generator_cross_attentions"], "arg_types": ["transformers.models.rag.modeling_rag.RetrievAugLMOutput", "torch._C.FloatTensor", "torch._C.FloatTensor", {".class": "UnionType", "items": [{".class": "Instance", "args": ["torch._C.FloatTensor"], "type_ref": "builtins.list"}, {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}, {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}], "bound_args": [], "def_extras": {}, "fallback": "builtins.function", "implicit": false, "is_ellipsis_args": false, "name": "__init__ of RetrievAugLMOutput", "ret_type": {".class": "NoneType"}, "type_guard": null, "variables": []}}, "plugin_generated": true}, "context_attention_mask": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.context_attention_mask", "name": "context_attention_mask", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}}, "context_input_ids": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.context_input_ids", "name": "context_input_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}}, "doc_scores": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.doc_scores", "name": "doc_scores", "type": "torch._C.FloatTensor"}}, "generator_cross_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.generator_cross_attentions", "name": "generator_cross_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_dec_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.generator_dec_attentions", "name": "generator_dec_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_dec_hidden_states": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.generator_dec_hidden_states", "name": "generator_dec_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_enc_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.generator_enc_attentions", "name": "generator_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_enc_hidden_states": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.generator_enc_hidden_states", "name": "generator_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "generator_enc_last_hidden_state": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.generator_enc_last_hidden_state", "name": "generator_enc_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}}, "logits": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.logits", "name": "logits", "type": "torch._C.FloatTensor"}}, "past_key_values": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.past_key_values", "name": "past_key_values", "type": {".class": "UnionType", "items": [{".class": "Instance", "args": ["torch._C.FloatTensor"], "type_ref": "builtins.list"}, {".class": "NoneType"}]}}}, "question_enc_attentions": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.question_enc_attentions", "name": "question_enc_attentions", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "question_enc_hidden_states": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.question_enc_hidden_states", "name": "question_enc_hidden_states", "type": {".class": "UnionType", "items": [{".class": "TupleType", "implicit": false, "items": ["torch._C.FloatTensor"], "partial_fallback": {".class": "Instance", "args": [{".class": "AnyType", "missing_import_name": null, "source_any": null, "type_of_any": 6}], "type_ref": "builtins.tuple"}}, {".class": "NoneType"}]}}}, "question_encoder_last_hidden_state": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.question_encoder_last_hidden_state", "name": "question_encoder_last_hidden_state", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}}, "retrieved_doc_embeds": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.retrieved_doc_embeds", "name": "retrieved_doc_embeds", "type": {".class": "UnionType", "items": ["torch._C.FloatTensor", {".class": "NoneType"}]}}}, "retrieved_doc_ids": {".class": "SymbolTableNode", "kind": "Mdef", "node": {".class": "Var", "flags": ["is_initialized_in_class", "is_ready"], "fullname": "transformers.models.rag.modeling_rag.RetrievAugLMOutput.retrieved_doc_ids", "name": "retrieved_doc_ids", "type": {".class": "UnionType", "items": ["torch._C.LongTensor", {".class": "NoneType"}]}}}}, "tuple_type": null, "type_vars": [], "typeddict_type": null}}, "StoppingCriteriaList": {".class": "SymbolTableNode", "cross_ref": "transformers.generation_stopping_criteria.StoppingCriteriaList", "kind": "Gdef"}, "Tuple": {".class": "SymbolTableNode", "cross_ref": "typing.Tuple", "kind": "Gdef"}, "_CONFIG_FOR_DOC": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "transformers.models.rag.modeling_rag._CONFIG_FOR_DOC", "name": "_CONFIG_FOR_DOC", "type": "builtins.str"}}, "__doc__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "transformers.models.rag.modeling_rag.__doc__", "name": "__doc__", "type": "builtins.str"}}, "__file__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "transformers.models.rag.modeling_rag.__file__", "name": "__file__", "type": "builtins.str"}}, "__name__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "transformers.models.rag.modeling_rag.__name__", "name": "__name__", "type": "builtins.str"}}, "__package__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "transformers.models.rag.modeling_rag.__package__", "name": "__package__", "type": "builtins.str"}}, "add_start_docstrings_to_model_forward": {".class": "SymbolTableNode", "cross_ref": "transformers.file_utils.add_start_docstrings_to_model_forward", "kind": "Gdef"}, "dataclass": {".class": "SymbolTableNode", "cross_ref": "dataclasses.dataclass", "kind": "Gdef"}, "logger": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "transformers.models.rag.modeling_rag.logger", "name": "logger", "type": "logging.Logger"}}, "logging": {".class": "SymbolTableNode", "cross_ref": "transformers.utils.logging", "kind": "Gdef"}, "nn": {".class": "SymbolTableNode", "cross_ref": "torch.nn", "kind": "Gdef"}, "replace_return_docstrings": {".class": "SymbolTableNode", "cross_ref": "transformers.file_utils.replace_return_docstrings", "kind": "Gdef"}, "torch": {".class": "SymbolTableNode", "cross_ref": "torch", "kind": "Gdef"}}, "path": "/home/s/.local/lib/python3.8/site-packages/transformers/models/rag/modeling_rag.py"}